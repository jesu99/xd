<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catálogo de Películas</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }
    
    body {
      background-color: #0f0f0f;
      color: #fff;
      padding: 20px;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
    }
    
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #e50914;
    }
    
    .movies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
    }
    
    .movie-card {
      background-color: #1a1a1a;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
    }
    
    .movie-card:hover {
      transform: translateY(-5px);
    }
    
    .movie-card img {
      width: 100%;
      height: 380px;
      object-fit: cover;
    }
    
    .movie-info {
      padding: 15px;
    }
    
    .movie-title {
      font-size: 1.3rem;
      font-weight: bold;
      margin-bottom: 10px;
      color: #e50914;
    }
    
    .movie-description {
      font-size: 0.9rem;
      color: #b3b3b3;
      margin-bottom: 15px;
      line-height: 1.4;
      height: 80px;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .btn {
      display: inline-block;
      background-color: #e50914;
      color: white;
      padding: 8px 20px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s;
      cursor: pointer;
    }
    
    .btn:hover {
      background-color: #b20710;
    }
    
    .ad-container {
      margin: 20px 0;
      text-align: center;
      overflow: hidden;
    }
    
    .floating-ad {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 999;
      background: #1a1a1a;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      max-width: 300px;
      display: none; /* Oculto por defecto */
    }
    
    .floating-ad-left {
      position: fixed;
      top: 50%;
      left: 10px;
      transform: translateY(-50%);
      z-index: 999;
      background: #1a1a1a;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      max-width: 160px;
      display: none; /* Oculto por defecto */
    }
    
    .floating-ad-right {
      position: fixed;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      z-index: 999;
      background: #1a1a1a;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      max-width: 160px;
      display: none; /* Oculto por defecto */
    }
    
    .close-btn {
      position: absolute;
      top: 5px;
      right: 5px;
      font-size: 18px;
      color: white;
      cursor: pointer;
      width: 20px;
      height: 20px;
      text-align: center;
      line-height: 20px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 50%;
    }
    
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background-color: #1a1a1a;
      padding: 20px;
      border-radius: 8px;
      max-width: 500px;
      width: 100%;
      text-align: center;
    }
    
    .modal-buttons {
      margin-top: 20px;
    }
    
    .ad-iframe {
      margin: 15px auto;
      display: block;
    }
    
    .forced-ad {
      position: relative;
      margin: 15px auto;
      width: 300px;
      height: 250px;
      cursor: pointer;
    }
    
    .forced-ad-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.2);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
    
    .forced-ad-message {
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      font-size: 14px;
    }
    
    .countdown {
      font-weight: bold;
      color: #e50914;
    }
    
    .sticky-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #1a1a1a;
      text-align: center;
      z-index: 998;
      padding: 5px 0;
      display: none;
    }
    
    .mid-page-ads {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 25px 0;
    }
    
    .ad-group {
      margin-bottom: 30px;
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .floating-ad-left, .floating-ad-right {
        display: none !important; /* Ocultar siempre en pantallas más pequeñas */
      }
    }
    
    @media (max-width: 768px) {
      .movies-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      header h1 {
        font-size: 2rem;
      }
      
      .floating-ad {
        bottom: 70px; /* Para dar espacio al banner inferior */
      }
      
      .ad-container.desktop-only {
        display: none; /* Ocultar anuncios solo para desktop */
      }
    }
    
    @media (max-width: 480px) {
      .movies-grid {
        grid-template-columns: 1fr;
      }
      
      .movie-card img {
        height: 300px;
      }
      
      header h1 {
        font-size: 1.7rem;
      }
      
      .ad-container.mobile-reduced {
        margin: 10px 0; /* Reducir margen en móvil */
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Anuncio antes del título (solo desktop) -->
    <div class="ad-container desktop-only">
      <script type="text/javascript">
        atOptions = {
          'key' : 'f6088f4d0f8e60d5aa5832d5695753bb',
          'format' : 'iframe',
          'height' : 60,
          'width' : 468,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/f6088f4d0f8e60d5aa5832d5695753bb/invoke.js"></script>
    </div>
    
    <header>
      <h1>CATÁLOGO DE PELÍCULAS</h1>
      <p>Las mejores películas en un solo lugar</p>
    </header>
    
    <!-- Anuncio después del título -->
    <div class="ad-container mobile-reduced">
      <script type="text/javascript">
        atOptions = {
          'key' : 'f6088f4d0f8e60d5aa5832d5695753bb',
          'format' : 'iframe',
          'height' : 90,
          'width' : 728,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/f6088f4d0f8e60d5aa5832d5695753bb/invoke.js"></script>
    </div>
    
    <div class="movies-grid">
      <!-- Película 1 -->
      <div class="movie-card">
        <img src="https://cuevana.pro/resize/200/storage/76625/D12JvWaChGVcRQtvFV1F2nvDY3Zd29O6OMdzCqQX.jpg">
        <div class="movie-info">
          <div class="movie-title">En la boca del miedo</div>
          <div class="movie-description">John Trent es un cínico investigador que sigue la pista de Sutter Cane, un escritor que desaparece misteriosamente y que, a través de sus novelas de terror, ejerce un extraño poder sobre sus lectores.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula1', 'https://pixeldrain.com/u/fP1Z1yDM')" id="verPelicula1">Ver</a>
        </div>
      </div>
      
      <!-- Película 2 (ejemplo) -->
      <div class="movie-card">
        <img src="https://cdn.akamai.steamstatic.com/steam/apps/1046930/capsule_616x353.jpg?t=1667978478">
        <div class="movie-info">
          <div class="movie-title">The House</div>
          <div class="movie-description">A lo largo de diferentes épocas, una casa es habitada por diferentes inquilinos que experimentan sucesos sobrenaturales que alteran sus vidas.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula2', 'https://ejemplo.com/pelicula2')" id="verPelicula2">Ver</a>
        </div>
      </div>
      
      <!-- Película 3 (ejemplo) -->
      <div class="movie-card">
        <img src="https://imgs.search.brave.com/T7kPnFMpXC1VRS7XnV3bUEFZjXKs28cPTnvdnJXwJzM/rs:fit:860:0:0/g:ce/aHR0cHM6Ly93d3cu/dGhlbW92aWVkYi5v/cmcvdC9wL3cvNzgw/L0MzMDgxM0Y4LUJG/NjAtNEVCRi1CQTFG/LTlCNkVGRDI1MUE1/Mi5qcGc">
        <div class="movie-info">
          <div class="movie-title">El Conjuro</div>
          <div class="movie-description">Los investigadores paranormales Ed y Lorraine Warren trabajan para ayudar a una familia aterrorizada por una presencia oscura en su casa.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula3', 'https://ejemplo.com/pelicula3')" id="verPelicula3">Ver</a>
        </div>
      </div>
    </div>
    
    <!-- Anuncio en medio de la página -->
    <div class="ad-group">
      <div class="ad-container mobile-reduced">
        <script type="text/javascript">
          atOptions = {
            'key' : 'd5057e78d993d8d7e4b858d86eecb789',
            'format' : 'iframe',
            'height' : 60,
            'width' : 468,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/d5057e78d993d8d7e4b858d86eecb789/invoke.js"></script>
      </div>
      
      <!-- Anuncios adicionales en medio -->
      <div class="mid-page-ads">
        <div>
          <script type="text/javascript">
            atOptions = {
              'key' : 'd5057e78d993d8d7e4b858d86eecb789',
              'format' : 'iframe',
              'height' : 250,
              'width' : 300,
              'params' : {}
            };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/d5057e78d993d8d7e4b858d86eecb789/invoke.js"></script>
        </div>
        <div>
          <script type="text/javascript">
            atOptions = {
              'key' : 'f6088f4d0f8e60d5aa5832d5695753bb',
              'format' : 'iframe',
              'height' : 250,
              'width' : 300,
              'params' : {}
            };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/f6088f4d0f8e60d5aa5832d5695753bb/invoke.js"></script>
        </div>
      </div>
    </div>
    
    <div class="movies-grid">
      <!-- Película 4 (ejemplo) -->
      <div class="movie-card">
        <img src="https://imgs.search.brave.com/gSJBmR4Z47FEHpNhFkqVFqbYB4smtdNDczMm8L3S95c/rs:fit:860:0:0/g:ce/aHR0cHM6Ly93d3cu/dGhlbW92aWVkYi5v/cmcvdC9wL3cvNzgw/L29jdmlTQVBTU3ZK/MnRuYXRuak9hdDZJ/TnRjYi5qcGc">
        <div class="movie-info">
          <div class="movie-title">Inception</div>
          <div class="movie-description">Un ladrón que roba secretos corporativos a través del uso de la tecnología de compartir sueños, se le da la tarea inversa de plantar una idea en la mente de un CEO.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula4', 'https://ejemplo.com/pelicula4')" id="verPelicula4">Ver</a>
        </div>
      </div>
      
      <!-- Película 5 (ejemplo) -->
      <div class="movie-card">
        <img src="https://imgs.search.brave.com/S0Vw5WlyzlHyLagWElU0ZiJVxE04Y-zjDihh8-zNOpw/rs:fit:860:0:0/g:ce/aHR0cHM6Ly93d3cu/dGhlbW92aWVkYi5v/cmcvdC9wL3cvNzgw/L3Z6OUNYM2NDZmti/UURURlR2c0FvdGVm/ek9Vby5qcGc">
        <div class="movie-info">
          <div class="movie-title">Joker</div>
          <div class="movie-description">Arthur Fleck, un hombre ignorado por la sociedad, solo quiere hacer reír a la gente. Pero una serie de trágicos sucesos lo llevará a cometer actos cada vez más extremos.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula5', 'https://ejemplo.com/pelicula5')" id="verPelicula5">Ver</a>
        </div>
      </div>
      
      <!-- Película 6 (ejemplo) -->
      <div class="movie-card">
        <img src="https://imgs.search.brave.com/xhJPMnMcB9KyEQpYoOLJ9_FxIvCQRyeuWfL2Vu1AjyA/rs:fit:860:0:0/g:ce/aHR0cHM6Ly93d3cu/dGhlbW92aWVkYi5v/cmcvdC9wL3cvNzgw/L3FKS2NGMkZCblYy/NUtpcXlqSU9PWDIw/cU1Mdy5qcGc">
        <div class="movie-info">
          <div class="movie-title">El Origen</div>
          <div class="movie-description">Dom Cobb es un experto en el arte de apropiarse, durante el sueño, de los secretos del subconsciente ajeno.</div>
          <a href="javascript:void(0)" class="btn" onclick="mostrarAnuncio('verPelicula6', 'https://ejemplo.com/pelicula6')" id="verPelicula6">Ver</a>
        </div>
      </div>
    </div>
    
    <!-- Anuncio al final -->
    <div class="ad-container" style="margin-top: 30px;">
      <script async="async" data-cfasync="false" src="//pl26364851.profitableratecpm.com/c3772adff43aba2ccae55611da999d7e/invoke.js"></script>
      <div id="container-c3772adff43aba2ccae55611da999d7e"></div>
    </div>
    
    <!-- Anuncio flotante derecho con X para cerrar (solo PC) -->
    <div class="floating-ad" id="floatingAd">
      <span class="close-btn" onclick="document.getElementById('floatingAd').style.display='none'">✕</span>
      <script type='text/javascript' src='//pl26364868.profitableratecpm.com/36/72/5a/36725aeb5411ac6fc121dd71f59a3cd6.js'></script>
    </div>
    
    <!-- Anuncio flotante izquierdo (solo PC) -->
    <div class="floating-ad-left" id="floatingAdLeft">
      <span class="close-btn" onclick="document.getElementById('floatingAdLeft').style.display='none'">✕</span>
      <script type='text/javascript' src='//pl26364849.profitableratecpm.com/63/c4/ef/63c4ef37398a7c28979f0f2b8e83e1c5.js'></script>
    </div>
    
    <!-- Anuncio flotante derecho (solo PC) -->
    <div class="floating-ad-right" id="floatingAdRight">
      <span class="close-btn" onclick="document.getElementById('floatingAdRight').style.display='none'">✕</span>
      <script type='text/javascript' src='//pl26364849.profitableratecpm.com/63/c4/ef/63c4ef37398a7c28979f0f2b8e83e1c5.js'></script>
    </div>
    
    <!-- Banner pegajoso inferior -->
    <div class="sticky-banner" id="stickyBanner">
      <script type="text/javascript">
        atOptions = {
          'key' : 'f6088f4d0f8e60d5aa5832d5695753bb',
          'format' : 'iframe',
          'height' : 50,
          'width' : 320,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//www.highperformanceformat.com/f6088f4d0f8e60d5aa5832d5695753bb/invoke.js"></script>
    </div>
    
    <!-- Modal de anuncio al hacer clic en "Ver" -->
    <div class="modal-overlay" id="anuncioModal">
      <div class="modal-content">
        <h2>Antes de ver la película...</h2>
        <p>Por favor espera <span id="countdown" class="countdown">5</span> segundos mientras carga la película</p>
        
        <!-- Anuncio principal con clic forzado -->
        <div class="forced-ad" id="forcedAd">
          <div class="forced-ad-overlay" id="forcedAdOverlay">
            <div class="forced-ad-message">Haz clic para continuar</div>
          </div>
          <iframe id="mainAdFrame" src="https://www.profitableratecpm.com/ki1qmt2i?key=94918e4fd860fdf0f13979fa9a8ce5e3" width="300" height="250" frameborder="0" scrolling="no"></iframe>
        </div>
        
        <!-- Anuncios adicionales en el modal -->
        <div class="ad-iframe">
          <script type="text/javascript">
            atOptions = {
              'key' : 'd5057e78d993d8d7e4b858d86eecb789',
              'format' : 'iframe',
              'height' : 90,
              'width' : 728,
              'params' : {}
            };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/d5057e78d993d8d7e4b858d86eecb789/invoke.js"></script>
        </div>
        
        <div class="modal-buttons">
          <button class="btn" id="continuarBtn" disabled>Continuar a la película</button>
        </div>
      </div>
    </div>
    
    <script>
      // Variables globales
      let currentPeliculaUrl = '';
      let adClicked = false;
      let countdownInterval;
      let timeLeft = 5;
      
      // Detectar si es un dispositivo móvil
      function isMobile() {
        return window.innerWidth <= 768;
      }
      
      // Función para mostrar el anuncio antes de ver la película
      function mostrarAnuncio(buttonId, peliculaUrl) {
        // Resetear variables
        adClicked = false;
        timeLeft = 5;
        currentPeliculaUrl = peliculaUrl;
        
        // Actualizar el contador
        document.getElementById('countdown').textContent = timeLeft;
        
        // Mostrar el modal
        document.getElementById('anuncioModal').style.display = 'flex';
        document.getElementById('continuarBtn').disabled = true;
        
        // Configurar el overlay del anuncio forzado
        document.getElementById('forcedAdOverlay').style.display = 'flex';
        
        // Configurar el contador
        clearInterval(countdownInterval);
        countdownInterval = setInterval(function() {
          timeLeft--;
          document.getElementById('countdown').textContent = timeLeft;
          
          if (timeLeft <= 0 && adClicked) {
            clearInterval(countdownInterval);
            document.getElementById('continuarBtn').disabled = false;
          }
        }, 1000);
        
        // Configurar el clic forzado en el anuncio
        document.getElementById('forcedAd').onclick = function() {
          adClicked = true;
          document.getElementById('forcedAdOverlay').style.display = 'none';
          
          // Si el tiempo ya terminó, habilitar el botón
          if (timeLeft <= 0) {
            document.getElementById('continuarBtn').disabled = false;
          }
          
          // Registrar estadística del clic (aquí podrías agregar tu propio sistema)
          console.log('Anuncio clickeado para película: ' + buttonId);
          
          // Simular un clic real en el iframe (esto es crucial para que se registre como clic real)
          try {
            // Esto es solo para simular, en la práctica el usuario ya hizo clic en el área
            // y las plataformas de anuncios generalmente registran eso como un clic válido
          } catch(e) {
            console.error('Error al registrar clic en anuncio:', e);
          }
        };
        
        // Configurar el botón de continuar
        document.getElementById('continuarBtn').onclick = function() {
          document.getElementById('anuncioModal').style.display = 'none';
          clearInterval(countdownInterval);
          window.location.href = currentPeliculaUrl;
        };
      }
      
      // Mostrar anuncios flotantes y banner pegajoso con retraso
      setTimeout(function() {
        if (!isMobile()) {
          document.getElementById('floatingAd').style.display = 'block';
          document.getElementById('floatingAdLeft').style.display = 'block';
          document.getElementById('floatingAdRight').style.display = 'block';
        }
        document.getElementById('stickyBanner').style.display = 'block';
      }, 2000);
      
      // Detectar si el usuario está usando AdBlock y mostrar mensaje
      window.addEventListener('load', function() {
        setTimeout(function() {
          // Intentar detectar AdBlock (método simple)
          var adBlockDetected = false;
          var testAd = document.createElement('div');
          testAd.innerHTML = '&nbsp;';
          testAd.className = 'adsbox';
          document.body.appendChild(testAd);
          
          setTimeout(function() {
            if (testAd.offsetHeight === 0) {
              adBlockDetected = true;
              alert('Por favor desactiva tu bloqueador de anuncios para ver las películas. ¡Este sitio se mantiene gracias a la publicidad!');
            }
            testAd.remove();
          }, 100);
        }, 2000);
      });
    </script>
  </div>
</body>
</html>
